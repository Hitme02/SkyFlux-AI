# SkyFlux AI ğŸŒâœˆï¸

**Deterministic flight data analytics platform with predictive intelligence.**

SkyFlux AI processes historical ADS-B flight data to generate high-fidelity trajectory predictions, anomaly detection, and airspace risk metrics. It employs a Medallion Architecture (Bronze/Silver/Gold) for data processing and a serverless Azure backend for global distribution.

![Map Visualization](walkthrough_media/skyflux_world_view_1768653663103.png)

## ğŸ—ï¸ System Architecture

- **Data Pipeline** (`pipeline/`): Python-based local pipeline processing raw ADS-B JSON into Parquet artifacts.
  - **Bronze**: Raw ingest.
  - **Silver**: Trajectory reconstruction & cleaning.
  - **Gold**: ML predictions, Anomaly Detection (Isolation Forest), Density Mapping.
- **Storage**: Azure Blob Storage (Gold layer artifacts).
- **Backend**:
  - **Production**: Azure Functions (`skyfluxapi`).
  - **Local/Hybrid**: Flask Server (`local_server.py`) for rapid development/demo.
- **Frontend** (`frontend/`): React + Leaflet.js for interactive 3D-like visualization.

## ğŸš€ Getting Started

### Prerequisites
- Python 3.10+
- Node.js 18+
- Azure CLI (if deploying)

### 1. Data Pipeline (Generate Intelligence)
Process raw data into ML insights:
```bash
cd pipeline
# Install dependencies
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# Run the full pipeline (Bronze -> Silver -> Gold)
# Note: Requires raw data in data/raw/
python gold.py --input ../data/silver --output ../data/gold
```

### 2. Upload to Cloud
Push generated artifacts to Azure Blob Storage:
```bash
python upload.py --input ../data/gold --connection-string "$AZURE_STORAGE_CONNECTION_STRING"
```

### 3. Run the System

#### Option A: Hybrid Mode (Recommended for Demo)
Runs a local API server connected to real Azure Cloud storage.
```bash
# Terminal 1: Backend
cd backend
source ../pipeline/venv/bin/activate
source ../.env
python local_server.py
# Running on http://127.0.0.1:5001

# Terminal 2: Frontend
cd frontend
npm install
npm run dev
# Running on http://localhost:3000
```

#### Option B: Full Cloud Mode
Uses the deployed Azure Function App.
1. Update `frontend/vite.config.js` proxy target to `https://skyfluxapi.azurewebsites.net`.
2. run `npm run dev`.

## ğŸ“Š Features

- **Trajectory Prediction**: Forecasts flight paths 5-10 minutes into the future.
- **Anomaly Detection**: Identifies unusual altitude drops, speed variance, or route deviations.
- **Traffic Density**: Heatmap of airspace congestion.
- **Time Travel**: Replay flight scenarios from the past.

## ğŸ“ Project Structure

```
skyflux-ai/
â”œâ”€â”€ backend/            # Azure Functions & Local Flask Server
â”œâ”€â”€ data/               # Local data storage (ignored by git)
â”œâ”€â”€ frontend/           # React/Vite application
â”œâ”€â”€ pipeline/           # ETL & ML Python scripts
â””â”€â”€ tests/              # Unit tests
```

## ğŸ› ï¸ Configuration
Create a `.env` file in the root:
```ini
AZURE_STORAGE_CONNECTION_STRING="<your-connection-string>"
AZURE_ML_TRACKING_URI="<your-ml-uri>"
RETRAIN_SECRET="secret-token"
```

---
*Generated by Antigravity Agent*
